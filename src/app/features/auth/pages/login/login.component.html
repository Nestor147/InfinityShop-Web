<div class="min-h-svh grid grid-cols-1 lg:grid-cols-2 bg-sa-text overflow-x-hidden
            pt-[env(safe-area-inset-top,0px)] pb-[env(safe-area-inset-bottom,0px)]">

  <section class="relative flex items-center justify-center p-4 sm:p-6 lg:p-10">
    <div class="absolute left-0 top-0 h-full w-2 bg-gradient-to-b from-sa-accent to-sa-primary rounded-r"></div>

    <div class="absolute -z-10 inset-0 overflow-hidden pointer-events-none">
      <div class="hidden sm:block absolute -top-16 -right-24 w-56 h-56 sm:w-72 sm:h-72 rounded-full bg-sa-accent/10 blur-3xl"></div>
      <div class="hidden sm:block absolute bottom-6 -left-20 w-72 h-72 sm:w-96 sm:h-96 rounded-full bg-sa-primary/10 blur-3xl"></div>
    </div>

    <div class="w-full max-w-[22rem] sm:max-w-md rounded-2xl bg-white/80 backdrop-blur shadow-sa-card border border-white/50">
      <div class="px-4 sm:px-6 md:px-7 pt-5 sm:pt-7 pb-3 sm:pb-4 flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div class="h-9 w-9 sm:h-10 sm:w-10 rounded-xl bg-sa-primary text-sa-text grid place-items-center font-black">ID</div>
          <div>
            <p class="text-sa-primary font-semibold leading-none text-sm sm:text-base">Portal de Acceso</p>
            <span class="text-[10px] sm:text-xs text-sa-gray-500">Gestión del sistema</span>
          </div>
        </div>
        <div class="hidden sm:flex gap-2">
          <span class="px-2 py-0.5 text-[10px] rounded-full bg-sa-accent/15 text-sa-accent">Seguro</span>
          <span class="px-2 py-0.5 text-[10px] rounded-full bg-sa-primary/15 text-sa-primary">Confiable</span>
        </div>
      </div>

      <div class="px-4 sm:px-6 md:px-7 pb-6 sm:pb-7">
        <h2 class="text-lg sm:text-xl font-bold text-sa-primary">Iniciar sesión</h2>
        <p class="text-xs sm:text-sm text-sa-gray-500 mt-1">Ingresa tus credenciales para continuar.</p>

        <form [formGroup]="form" (ngSubmit)="submit()" class="mt-5 sm:mt-6 space-y-4 sm:space-y-5">
          <div>
            <label class="block text-xs sm:text-sm font-medium text-sa-primary">Correo electrónico</label>
            <input
              type="email"
              formControlName="username"
              autocomplete="username"
              class="mt-1 w-full rounded-xl border border-sa-gray-500/40 bg-white px-3 py-2 sm:py-2.5 outline-none
                    focus:ring-2 focus:ring-sa-accent text-sa-primary placeholder-sa-gray-500 caret-sa-primary"
              placeholder="tucorreo@dominio.com" />
            <span *ngIf="form.get('username')?.touched && form.get('username')?.invalid"
                  class="text-[11px] text-red-600">Ingresa un correo válido</span>
          </div>

          <div>
            <div class="flex items-center justify-between">
              <label class="block text-xs sm:text-sm font-medium text-sa-primary">Contraseña</label>
              <a routerLink="/auth/forgot" class="text-[11px] sm:text-xs text-sa-accent hover:underline">¿Olvidaste tu contraseña?</a>
            </div>
            <div class="relative">
              <input
                [type]="showPassword ? 'text' : 'password'"
                formControlName="password"
                autocomplete="current-password"
                class="mt-1 w-full rounded-xl border border-sa-gray-500/40 bg-white px-3 py-2 sm:py-2.5 outline-none pr-12
                      focus:ring-2 focus:ring-sa-accent text-sa-primary placeholder-sa-gray-500 caret-sa-primary"
                placeholder="••••••••" />
              <button
                type="button"
                (click)="togglePassword()"
                class="absolute right-1 sm:right-2 top-1/2 -translate-y-1/2 text-sa-gray-500 hover:text-sa-primary p-2"
                aria-label="Mostrar u ocultar contraseña">
                <span class="sr-only">Mostrar/Ocultar</span>
                <svg *ngIf="!showPassword" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none"
                    viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/></svg>
                <svg *ngIf="showPassword" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none"
                    viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M3 3l18 18M9.88 9.88A3 3 0 0112 9c.828 0 1.578.336 2.121.879M15 15a3 3 0 01-4.243-4.243M10.477 4.193A9.956 9.956 0 0112 4c4.477 0 8.268 2.943 9.542 7a9.958 9.958 0 01-4.132 5.411M6.228 6.228A9.958 9.958 0 002.458 12c.433 1.381 1.152 2.63 2.085 3.682"/></svg>
              </button>
            </div>
          </div>

          <p *ngIf="errorMsg" class="text-sm text-red-600">{{ errorMsg }}</p>

          <button
            type="submit"
            [disabled]="loading"
            class="w-full rounded-xl bg-gradient-to-r from-sa-primary to-sa-black text-sa-text py-2.5 sm:py-3 font-semibold
                  hover:opacity-90 transition disabled:opacity-60 disabled:cursor-not-allowed inline-flex items-center justify-center gap-2">
            <svg *ngIf="loading" class="h-4 w-4 animate-spin" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-opacity=".25" stroke-width="4"></circle>
              <path d="M22 12a10 10 0 0 1-10 10" stroke="currentColor" stroke-width="4"></path>
            </svg>
            {{ loading ? 'Ingresando…' : 'Entrar' }}
          </button>
        </form>
      </div>

      <div class="px-4 sm:px-6 md:px-7 pb-4 sm:pb-5 text-[10px] sm:text-[11px] text-sa-gray-500 text-center sm:text-left">
        © {{ year }} Administración del sistema — Términos & Privacidad
      </div>
    </div>
  </section>

  <section class="relative hidden lg:flex items-center justify-center overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-tr from-sa-primary via-sa-black to-sa-primary"></div>
    <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_top,rgba(16,185,129,.12),transparent_60%)]"></div>

    <div class="relative z-10 max-w-2xl px-12 xl:px-16">
      <div class="inline-flex items-center gap-2 rounded-full bg-white/10 text-sa-text px-3 py-1 mb-6 backdrop-blur">
        <span class="h-2 w-2 rounded-full bg-sa-accent"></span>
        <span class="text-xs">Entorno confiable</span>
      </div>

      <h1 class="text-sa-text text-4xl xl:text-5xl leading-tight font-extrabold tracking-tight">
        Operación segura<br>
        <span class="text-sa-accent">con acceso verificado</span>
      </h1>
      <p class="mt-5 text-sa-text/80">
        Accede de forma sencilla y segura, con protección de tus datos y acceso confiable a tu cuenta.
      </p>
      <div class="mt-8 flex flex-wrap gap-3">
        <span class="px-3 py-1.5 rounded-full bg-sa-text/10 text-sa-text text-sm border border-white/20">Sesiones protegidas</span>
        <span class="px-3 py-1.5 rounded-full bg-sa-text/10 text-sa-text text-sm border border-white/20">Trazabilidad</span>
        <span class="px-3 py-1.5 rounded-full bg-sa-text/10 text-sa-text text-sm border border-white/20">Disponibilidad</span>
      </div>
    </div>

    <div class="absolute -right-20 -bottom-20 w-[28rem] h-[28rem] xl:w-[36rem] xl:h-[36rem] rounded-full bg-sa-accent/10 blur-3xl"></div>
    <div class="absolute -left-12 -top-12 w-64 h-64 xl:w-80 xl:h-80 rotate-12 bg-sa-text/5 rounded-3xl"></div>
  </section>
</div>
